document.addEventListener('DOMContentLoaded', () => {
  // æ˜Ÿåº§ãƒ‡ãƒ¼ã‚¿
  const zodiacData = {
    aries: { name: 'ç‰¡ç¾Šåº§', symbol: 'â™ˆ' },
    taurus: { name: 'ç‰¡ç‰›åº§', symbol: 'â™‰' },
    gemini: { name: 'åŒå­åº§', symbol: 'â™Š' },
    cancer: { name: 'èŸ¹åº§', symbol: 'â™‹' },
    leo: { name: 'ç…å­åº§', symbol: 'â™Œ' },
    virgo: { name: 'ä¹™å¥³åº§', symbol: 'â™' },
    libra: { name: 'å¤©ç§¤åº§', symbol: 'â™' },
    scorpio: { name: 'è åº§', symbol: 'â™' },
    sagittarius: { name: 'å°„æ‰‹åº§', symbol: 'â™' },
    capricorn: { name: 'å±±ç¾Šåº§', symbol: 'â™‘' },
    aquarius: { name: 'æ°´ç“¶åº§', symbol: 'â™’' },
    pisces: { name: 'é­šåº§', symbol: 'â™“' }
  };

  // æ—¥åˆ¥ç‰¹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  const dailyMessageTemplates = {
    aries: [
      'ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªã‚ãªãŸã¯ã€ä»Šæ—¥æ–°ã—ã„æŒ‘æˆ¦ã‚’å§‹ã‚ã‚‹ã®ã«æœ€é©ã§ã™ã€‚ç›´æ„Ÿã‚’ä¿¡ã˜ã¦å¤§èƒ†ã«è¡Œå‹•ã—ã¦ãã ã•ã„ã€‚åˆå¾Œã®æ™‚é–“å¸¯ã«ç‰¹ã«è‰¯ã„å‡ºæ¥äº‹ãŒæœŸå¾…ã§ãã¾ã™ã€‚',
      'ä»Šæ—¥ã®ã‚ãªãŸã¯ã€ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®ã™ã‚‹çµ¶å¥½ã®æ©Ÿä¼šã«æµã¾ã‚Œã¾ã™ã€‚å‘¨ã‚Šã®äººãŸã¡ãŒã‚ãªãŸã®è¡Œå‹•åŠ›ã«æ³¨ç›®ã—ã¦ã„ã¾ã™ã€‚è‡ªä¿¡ã‚’æŒã£ã¦å‰é€²ã—ã¾ã—ã‚‡ã†ã€‚',
      'å‰µé€ æ€§ãŒé«˜ã¾ã£ã¦ã„ã‚‹ä»Šæ—¥ã€æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæ¬¡ã€…ã¨æµ®ã‹ã‚“ã§ããã†ã§ã™ã€‚ãƒ¡ãƒ¢ã‚’å–ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãšã«ã€‚å¤•æ–¹ä»¥é™ã«é‡è¦ãªé€£çµ¡ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚',
      'ä»Šæ—¥ã¯äººé–“é–¢ä¿‚ã§å¬‰ã—ã„å¤‰åŒ–ãŒã‚ã‚Šãã†ã§ã™ã€‚å¤ã„å‹äººã‹ã‚‰ã®é€£çµ¡ã‚„ã€æ–°ã—ã„å‡ºä¼šã„ãŒæœŸå¾…ã§ãã¾ã™ã€‚ç©æ¥µçš„ã«ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–ã£ã¦ãã ã•ã„ã€‚',
      'ä»•äº‹é¢ã§å¤§ããªé€²å±•ãŒã‚ã‚‹æ—¥ã§ã™ã€‚ã‚ãªãŸã®åŠªåŠ›ãŒèªã‚ã‚‰ã‚Œã€æ–°ã—ã„è²¬ä»»ã‚„å½¹å‰²ã‚’ä»»ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚æº–å‚™ã‚’æ€ ã‚‰ãªã„ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚',
      'å¥åº·é‹ãŒç‰¹ã«è‰¯ã„ä»Šæ—¥ã¯ã€æ–°ã—ã„é‹å‹•ã‚„å¥åº·æ³•ã‚’å§‹ã‚ã‚‹ã®ã«é©ã—ã¦ã„ã¾ã™ã€‚ä½“èª¿ã‚’æ•´ãˆã‚‹ã“ã¨ã§ã€å…¨ä½“çš„ãªé‹æ°—ã‚‚ã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚',
      'é‡‘é‹ã«æµã¾ã‚ŒãŸä¸€æ—¥ã¨ãªã‚Šãã†ã§ã™ã€‚æ€ã„ãŒã‘ãªã„åå…¥ã‚„ã€è‰¯ã„æŠ•è³‡ã®è©±ãŒèˆã„è¾¼ã‚€ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŸã ã—ã€æ…é‡ãªåˆ¤æ–­ã‚‚å¤§åˆ‡ã§ã™ã€‚'
    ],
    taurus: [
      'å®‰å®šã‚’æ±‚ã‚ã‚‹ã‚ãªãŸã«ã¨ã£ã¦ã€ä»Šæ—¥ã¯åŸºç›¤ã‚’å›ºã‚ã‚‹è‰¯ã„æ—¥ã§ã™ã€‚é•·æœŸçš„ãªè¨ˆç”»ã«ã¤ã„ã¦è€ƒãˆã€ç€å®Ÿãªã‚¹ãƒ†ãƒƒãƒ—ã‚’è¸ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚',
      'ç¾ã—ã„ã‚‚ã®ã‚„å¿ƒåœ°ã‚ˆã„ã‚‚ã®ã«è§¦ã‚Œã‚‹ã“ã¨ã§ã€ä»Šæ—¥ã®é‹æ°—ãŒã•ã‚‰ã«ä¸Šæ˜‡ã—ã¾ã™ã€‚èŠ¸è¡“é‘‘è³ã‚„è‡ªç„¶æ•£ç­–ãŒãŠã™ã™ã‚ã§ã™ã€‚',
      'ä»Šæ—¥ã¯å¿è€åŠ›ãŒè©¦ã•ã‚Œã‚‹å ´é¢ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã‚ãªãŸã®ç²˜ã‚Šå¼·ã•ãŒæœ€çµ‚çš„ã«è‰¯ã„çµæœã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚è«¦ã‚ãšã«ç¶šã‘ã¦ãã ã•ã„ã€‚',
      'é‡‘éŠ­é¢ã§è‰¯ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹ãŒæœŸå¾…ã§ãã‚‹ä¸€æ—¥ã§ã™ã€‚è²¯è“„ã‚„æŠ•è³‡ã«ã¤ã„ã¦çœŸå‰£ã«è€ƒãˆã‚‹è‰¯ã„æ©Ÿä¼šã§ã‚‚ã‚ã‚Šã¾ã™ã€‚å°‚é–€å®¶ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚‚å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚',
      'å®¶æ—ã‚„è¦ªã—ã„äººã¨ã®æ™‚é–“ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ã§ã€å¿ƒã®å®‰å®šãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚æ¸©ã‹ã„é£Ÿäº‹ã‚’å›²ã‚“ã§ã®ã²ã¨ã¨ããŒç‰¹ã«å¹¸é‹ã‚’å‘¼ã³ã¾ã™ã€‚',
      'ä»Šæ—¥ã¯ã‚ãªãŸã®å®Ÿç”¨çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒå¤šãã®äººã«å–œã°ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚å›°ã£ã¦ã„ã‚‹äººãŒã„ãŸã‚‰ã€ç©æ¥µçš„ã«æ‰‹ã‚’å·®ã—ä¼¸ã¹ã¦ãã ã•ã„ã€‚',
      'å¥åº·é¢ã§ã¯ã€è¦å‰‡æ­£ã—ã„ç”Ÿæ´»ãƒªã‚ºãƒ ã‚’å¿ƒãŒã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚è³ªã®è‰¯ã„ç¡çœ ã¨æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹ã§ã€ä½“èª¿ã‚’ä¸‡å…¨ã«ä¿ã¡ã¾ã—ã‚‡ã†ã€‚'
    ],
    gemini: [
      'å¥½å¥‡å¿ƒæ—ºç››ãªã‚ãªãŸã¯ã€ä»Šæ—¥æ–°ã—ã„æƒ…å ±ã‚„çŸ¥è­˜ã‚’å¾—ã‚‹ã“ã¨ã§å¤§ããªåˆºæ¿€ã‚’å—ã‘ã‚‹ã§ã—ã‚‡ã†ã€‚å­¦ç¿’ã‚„èª­æ›¸ã«æ™‚é–“ã‚’å‰²ã„ã¦ãã ã•ã„ã€‚',
      'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ãŒå†´ãˆã¦ã„ã‚‹ä»Šæ—¥ã€å¤šãã®äººã¨ã®äº¤æµãŒå¹¸é‹ã‚’é‹ã‚“ã§ãã¾ã™ã€‚SNSã§ã®ç™ºä¿¡ã‚‚åŠ¹æœçš„ã§ã™ã€‚',
      'ä»Šæ—¥ã¯å¤‰åŒ–ã‚’æã‚Œãšã€æŸ”è»Ÿæ€§ã‚’æŒã£ã¦ç‰©äº‹ã«å–ã‚Šçµ„ã‚€ã“ã¨ãŒæˆåŠŸã®éµã¨ãªã‚Šã¾ã™ã€‚äºˆå®šã®å¤‰æ›´ã‚‚å‰å‘ãã«å—ã‘å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚',
      'çŸ¥çš„ãªåˆºæ¿€ã‚’æ±‚ã‚ã¦ã€æ–°ã—ã„å ´æ‰€ã‚’è¨ªã‚Œã¦ã¿ã¦ãã ã•ã„ã€‚ãã“ã§å¾—ã‚‹çµŒé¨“ã‚„å‡ºä¼šã„ãŒã€å°†æ¥ã®å¤§ããªè²¡ç”£ã¨ãªã‚Šã¾ã™ã€‚',
      'ä»Šæ—¥ã¯ã‚ãªãŸã®å¤šæ‰ã•ãŒå…‰ã‚‹ä¸€æ—¥ã§ã™ã€‚è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’åŒæ™‚ã«é€²ã‚ã‚‹ã“ã¨ã§ã€äºˆæƒ³ä»¥ä¸Šã®æˆæœã‚’ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚',
      'è¨€è‘‰ã®åŠ›ãŒç‰¹ã«å¼·ã„ä»Šæ—¥ã€é‡è¦ãªäº¤æ¸‰ã‚„ä¼šè©±ã«ã¯ç´°å¿ƒã®æ³¨æ„ã‚’æ‰•ã£ã¦ãã ã•ã„ã€‚èª å®Ÿãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒä¿¡é ¼ã‚’ç¯‰ãã¾ã™ã€‚',
      'æ—…è¡Œã‚„ç§»å‹•ã«é–¢ã—ã¦è‰¯ã„ã“ã¨ãŒã‚ã‚Šãã†ã§ã™ã€‚çŸ­è·é›¢ã§ã‚‚è‰¯ã„ã®ã§ã€æ™®æ®µã¨ã¯é•ã†å ´æ‰€ã«è¶³ã‚’å‘ã‘ã¦ã¿ã¦ãã ã•ã„ã€‚'
    ],
    cancer: [
      'æ„Ÿå—æ€§è±Šã‹ãªã‚ãªãŸã¯ã€ä»Šæ—¥ç›´æ„ŸãŒç‰¹ã«é‹­ããªã£ã¦ã„ã¾ã™ã€‚ç¬¬å…­æ„Ÿã‚’ä¿¡ã˜ã¦è¡Œå‹•ã™ã‚‹ã“ã¨ã§ã€è‰¯ã„çµæœã‚’å¾—ã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚',
      'å®¶æ—ã‚„è¦ªã—ã„äººã¨ã®çµ†ãŒæ·±ã¾ã‚‹ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ã¨ãªã‚Šãã†ã§ã™ã€‚å¤§åˆ‡ãªäººã¨éã”ã™æ™‚é–“ã‚’æ„è­˜çš„ã«ä½œã£ã¦ãã ã•ã„ã€‚',
      'ä»Šæ—¥ã¯éå»ã®çµŒé¨“ã‚„æ€ã„å‡ºãŒã€ç¾åœ¨ã®å•é¡Œè§£æ±ºã®ãƒ’ãƒ³ãƒˆã‚’ä¸ãˆã¦ãã‚Œã¾ã™ã€‚æ¸©æ•…çŸ¥æ–°ã®ç²¾ç¥ã§ç‰©äº‹ã«å–ã‚Šçµ„ã¿ã¾ã—ã‚‡ã†ã€‚',
      'æ„Ÿæƒ…çš„ã«ãªã‚Šã‚„ã™ã„ä»Šæ—¥ã§ã™ãŒã€ãã®è±Šã‹ãªæ„Ÿæ€§ãŒå‰µä½œæ´»å‹•ã‚„èŠ¸è¡“çš„ãªåˆ†é‡ã§åŠ›ã‚’ç™ºæ®ã—ã¾ã™ã€‚è‡ªå·±è¡¨ç¾ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã€‚',
      'æ¯æ€§çš„ãªå„ªã—ã•ãŒå‘¨ã‚Šã®äººã‚’ç™’ã—ã€å¤šãã®æ„Ÿè¬ã‚’å—ã‘ã‚‹ã“ã¨ã«ãªã‚‹ã§ã—ã‚‡ã†ã€‚äººã®ãŠä¸–è©±ã‚’ã™ã‚‹ã“ã¨ã§ã€ã‚ãªãŸè‡ªèº«ã‚‚æº€ãŸã•ã‚Œã¾ã™ã€‚',
      'ä»Šæ—¥ã¯å¿ƒã®å£°ã«è€³ã‚’å‚¾ã‘ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚ç†æ€§ã ã‘ã§ãªãã€æ„Ÿæƒ…ã‚„ç›´æ„Ÿã‚‚åˆ¤æ–­ææ–™ã¨ã—ã¦æ´»ç”¨ã—ã¦ãã ã•ã„ã€‚',
      'å®‰å¿ƒã§ãã‚‹ç’°å¢ƒã‚’æ•´ãˆã‚‹ã“ã¨ã§ã€ä»Šæ—¥ã®é‹æ°—ãŒã•ã‚‰ã«å‘ä¸Šã—ã¾ã™ã€‚ãŠæ°—ã«å…¥ã‚Šã®å ´æ‰€ã§ãƒªãƒ©ãƒƒã‚¯ã‚¹ã—ãŸæ™‚é–“ã‚’éã”ã—ã¾ã—ã‚‡ã†ã€‚'
    ],
    leo: [
      'è¼ãã‚ãªãŸã¯ã€ä»Šæ—¥å¤šãã®äººã®æ³¨ç›®ã‚’é›†ã‚ã‚‹ã“ã¨ã«ãªã‚Šãã†ã§ã™ã€‚è‡ªä¿¡ã‚’æŒã£ã¦ã€ã‚ãªãŸã‚‰ã—ã•ã‚’å­˜åˆ†ã«ç™ºæ®ã—ã¦ãã ã•ã„ã€‚',
      'å‰µé€ åŠ›ãŒæœ€é«˜æ½®ã«é”ã—ã¦ã„ã‚‹ä»Šæ—¥ã€èŠ¸è¡“çš„ãªæ´»å‹•ã‚„è¡¨ç¾ã«å–ã‚Šçµ„ã‚€ã“ã¨ã§ç´ æ™´ã‚‰ã—ã„ä½œå“ãŒç”Ÿã¾ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚',
      'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®ã™ã‚‹çµ¶å¥½ã®æ©Ÿä¼šãŒè¨ªã‚Œã¾ã™ã€‚ãƒãƒ¼ãƒ ã‚’ç‡ã„ã¦ã€å¤§ããªç›®æ¨™ã«å‘ã‹ã£ã¦é€²ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚',
      'ä»Šæ—¥ã¯ã‚ãªãŸã®å¯›å¤§ã•ã¨æ¸©ã‹ã„å¿ƒãŒã€å¤šãã®äººã«å¸Œæœ›ã¨å‹‡æ°—ã‚’ä¸ãˆã¾ã™ã€‚å¤ªé™½ã®ã‚ˆã†ãªå­˜åœ¨ã¨ã—ã¦ã€å‘¨ã‚Šã‚’æ˜ã‚‹ãç…§ã‚‰ã—ã¦ãã ã•ã„ã€‚',
      'èˆå°ã‚„ã‚¹ãƒ†ãƒ¼ã‚¸ã«é–¢ã‚ã‚‹ã“ã¨ã§å¹¸é‹ãŒè¨ªã‚Œãã†ã§ã™ã€‚äººå‰ã§è©±ã™æ©Ÿä¼šãŒã‚ã‚Œã°ã€ç©æ¥µçš„ã«å¼•ãå—ã‘ã¦ãã ã•ã„ã€‚',
      'ãƒ—ãƒ©ã‚¤ãƒ‰ã‚’æŒã¤ã“ã¨ã¯è‰¯ã„ã“ã¨ã§ã™ãŒã€ä»Šæ—¥ã¯è¬™è™šã•ã‚‚å¿˜ã‚Œãšã«ã€‚ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸæ…‹åº¦ãŒæˆåŠŸã«ã¤ãªãŒã‚Šã¾ã™ã€‚',
      'æ„›æƒ…è¡¨ç¾ãŒè±Šã‹ã«ãªã‚‹ä¸€æ—¥ã§ã™ã€‚å¤§åˆ‡ãªäººã¸ã®æ„Ÿè¬ã®æ°—æŒã¡ã‚’ã€è¨€è‘‰ã‚„è¡Œå‹•ã§è¡¨ç¾ã—ã¦ãã ã•ã„ã€‚ãã£ã¨å–œã°ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚'
    ],
    virgo: [
      'å®Œç’§ä¸»ç¾©ã®ã‚ãªãŸã¯ã€ä»Šæ—¥ç´°éƒ¨ã¸ã®æ³¨æ„ãŒå¤§ããªæˆæœã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚ä¸å¯§ãªä½œæ¥­ã¨ç¢ºå®Ÿãªæ®µå–ã‚Šã§ã€ç›®æ¨™ã‚’é”æˆã—ã¦ãã ã•ã„ã€‚',
      'ä»Šæ—¥ã¯å¥åº·ç®¡ç†ã«ç‰¹ã«æ„è­˜ã‚’å‘ã‘ã‚‹ã“ã¨ã§ã€å…¨ä½“çš„ãªé‹æ°—ãŒã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚è¦å‰‡æ­£ã—ã„ç”Ÿæ´»ç¿’æ…£ã‚’å¿ƒãŒã‘ã¾ã—ã‚‡ã†ã€‚',
      'åˆ†æåŠ›ãŒå†´ãˆã¦ã„ã‚‹ä»Šæ—¥ã€è¤‡é›‘ãªå•é¡Œã‚‚è«–ç†çš„ã«è§£æ±ºã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚ãƒ‡ãƒ¼ã‚¿ã‚„äº‹å®Ÿã«åŸºã¥ã„ãŸåˆ¤æ–­ãŒæ­£è§£ã§ã™ã€‚',
      'ä»–äººã¸ã®å¥‰ä»•ç²¾ç¥ãŒå…‰ã‚‹ä¸€æ—¥ã¨ãªã‚Šã¾ã™ã€‚å›°ã£ã¦ã„ã‚‹äººã‚’åŠ©ã‘ã‚‹ã“ã¨ã§ã€ã‚ãªãŸè‡ªèº«ã«ã‚‚è‰¯ã„ã“ã¨ãŒè¿”ã£ã¦ãã¾ã™ã€‚',
      'ä»Šæ—¥ã¯æ•´ç†æ•´é “ã«åŠ›ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§ã€å¿ƒã‚‚ç’°å¢ƒã‚‚ã‚¹ãƒƒã‚­ãƒªã¨æ•´ã„ã¾ã™ã€‚æ–­æ¨é›¢ã«ã‚‚è‰¯ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã™ã€‚',
      'å®Ÿç”¨çš„ãªã‚¹ã‚­ãƒ«ã‚„çŸ¥è­˜ã‚’èº«ã«ã¤ã‘ã‚‹ã“ã¨ã§ã€å°†æ¥ã®å½¹ã«ç«‹ã¤æŠ•è³‡ã¨ãªã‚Šã¾ã™ã€‚å­¦ç¿’ã‚„ç ”ä¿®ã®æ©Ÿä¼šãŒã‚ã‚Œã°å‚åŠ ã—ã¦ãã ã•ã„ã€‚',
      'æ‰¹åˆ¤çš„ãªç›®ç·šã‚‚å¤§åˆ‡ã§ã™ãŒã€ä»Šæ—¥ã¯å»ºè¨­çš„ãªææ¡ˆã‚„æ”¹å–„æ¡ˆã‚’ç¤ºã™ã“ã¨ã§ã€ã‚ˆã‚Šè‰¯ã„çµæœã‚’ç”Ÿã¿å‡ºã™ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚'
    ],
    libra: [
      'ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šã«å„ªã‚ŒãŸã‚ãªãŸã¯ã€ä»Šæ—¥å¯¾ç«‹ã™ã‚‹æ„è¦‹ã‚’èª¿å’Œã•ã›ã‚‹é‡è¦ãªå½¹å‰²ã‚’æœãŸã™ã“ã¨ã«ãªã‚Šãã†ã§ã™ã€‚',
      'ç¾çš„ã‚»ãƒ³ã‚¹ãŒå†´ãˆã¦ã„ã‚‹ä»Šæ—¥ã€ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚„ã‚¤ãƒ³ãƒ†ãƒªã‚¢ã«ã“ã ã‚ã‚‹ã“ã¨ã§é‹æ°—ãŒã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚ç¾ã—ã„ã‚‚ã®ã«å›²ã¾ã‚Œã¦éã”ã—ã¾ã—ã‚‡ã†ã€‚',
      'ä»Šæ—¥ã¯å…¬å¹³æ€§ã¨æ­£ç¾©æ„ŸãŒè©•ä¾¡ã•ã‚Œã‚‹å ´é¢ãŒã‚ã‚Šã¾ã™ã€‚åè¦‹ã‚’æŒãŸãšã€å®¢è¦³çš„ãªåˆ¤æ–­ã‚’å¿ƒãŒã‘ã¦ãã ã•ã„ã€‚',
      'ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚„å”åŠ›é–¢ä¿‚ã«ãŠã„ã¦ã€æ–°ãŸãªç™ºå±•ãŒæœŸå¾…ã§ãã¾ã™ã€‚ä¸€äººã§ã¯æˆã—å¾—ãªã„ã“ã¨ã‚‚ã€ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ä¹—ã‚Šè¶Šãˆã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚',
      'ç¤¾äº¤æ€§ãŒç™ºæ®ã•ã‚Œã‚‹ä¸€æ—¥ã§ã™ã€‚ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã‚„é›†ã¾ã‚Šã«å‚åŠ ã™ã‚‹ã“ã¨ã§ã€æœ‰ç›Šãªäººè„ˆã‚’ç¯‰ãã“ã¨ãŒã§ãã¾ã™ã€‚',
      'ä»Šæ—¥ã¯å¹³å’Œã‚’æ„›ã™ã‚‹ã‚ãªãŸã®æ€§æ ¼ãŒã€äº‰ã„ã‚’åã‚ã‚‹åŠ›ã¨ãªã‚Šã¾ã™ã€‚ä»²è£å½¹ã¨ã—ã¦ã€é‡è¦ãªä»»å‹™ã‚’æ‹…ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚',
      'èŠ¸è¡“ã‚„æ–‡åŒ–ã«è§¦ã‚Œã‚‹ã“ã¨ã§ã€å¿ƒãŒè±Šã‹ã«ãªã‚‹ä¸€æ—¥ã§ã™ã€‚ç¾è¡“é¤¨ã‚„ã‚³ãƒ³ã‚µãƒ¼ãƒˆãªã©ã€æ–‡åŒ–çš„ãªæ´»å‹•ã«æ™‚é–“ã‚’ä½¿ã£ã¦ãã ã•ã„ã€‚'
    ],
    scorpio: [
      'æ·±ã„æ´å¯ŸåŠ›ã‚’æŒã¤ã‚ãªãŸã¯ã€ä»Šæ—¥éš ã•ã‚ŒãŸçœŸå®Ÿã‚’è¦‹æŠœãèƒ½åŠ›ãŒç‰¹ã«é«˜ã¾ã£ã¦ã„ã¾ã™ã€‚æœ¬è³ªã‚’è¦‹æ¥µã‚ã‚‹çœ¼ã§ç‰©äº‹ã‚’åˆ¤æ–­ã—ã¦ãã ã•ã„ã€‚',
      'é›†ä¸­åŠ›ãŒæœ€é«˜ãƒ¬ãƒ™ãƒ«ã«é”ã—ã¦ã„ã‚‹ä»Šæ—¥ã€é‡è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚„ç ”ç©¶ã«å–ã‚Šçµ„ã‚€ã“ã¨ã§å¤§ããªæˆæœã‚’ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚',
      'ä»Šæ—¥ã¯å¤‰é©ã®æ™‚ã§ã™ã€‚å¤ã„ã‚‚ã®ã‚’æ‰‹æ”¾ã—ã€æ–°ã—ã„ã‚¹ãƒ†ãƒ¼ã‚¸ã«é€²ã‚€å‹‡æ°—ã‚’æŒã£ã¦ãã ã•ã„ã€‚æã‚Œãšã«å‰é€²ã—ã¾ã—ã‚‡ã†ã€‚',
      'ãƒŸã‚¹ãƒ†ãƒªã‚¢ã‚¹ãªé­…åŠ›ãŒéš›ç«‹ã¤ä¸€æ—¥ã¨ãªã‚Šã¾ã™ã€‚ã‚ãªãŸã®ç¥ç§˜çš„ãªé›°å›²æ°—ã«ã€å¤šãã®äººãŒæƒ¹ãã¤ã‘ã‚‰ã‚Œã‚‹ã“ã¨ã§ã—ã‚‡ã†ã€‚',
      'æ„Ÿæƒ…ã®èµ·ä¼ãŒæ¿€ã—ããªã‚ŠãŒã¡ãªä»Šæ—¥ã§ã™ãŒã€ãã®æƒ…ç†±ã‚’å»ºè¨­çš„ãªæ–¹å‘ã«å‘ã‘ã‚‹ã“ã¨ã§ã€ç´ æ™´ã‚‰ã—ã„çµæœã‚’ç”Ÿã¿å‡ºã›ã¾ã™ã€‚',
      'ä»Šæ—¥ã¯å¿ƒç†å­¦ã‚„ç²¾ç¥ä¸–ç•Œã¸ã®é–¢å¿ƒãŒé«˜ã¾ã‚Šã¾ã™ã€‚è‡ªå·±åˆ†æã‚„å†…çœã®æ™‚é–“ã‚’æŒã¤ã“ã¨ã§ã€æ–°ãŸãªè‡ªåˆ†ã‚’ç™ºè¦‹ã§ãã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚',
      'ç§˜å¯†ã‚„é‡è¦ãªæƒ…å ±ã‚’æ‰±ã†æ©Ÿä¼šãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ä¿¡é ¼é–¢ä¿‚ã‚’å¤§åˆ‡ã«ã—ã€è²¬ä»»ã‚’æŒã£ã¦è¡Œå‹•ã—ã¦ãã ã•ã„ã€‚'
    ],
    sagittarius: [
      'è‡ªç”±ã‚’æ„›ã™ã‚‹ã‚ãªãŸã¯ã€ä»Šæ—¥æ–°ã—ã„å†’é™ºã‚„æŒ‘æˆ¦ã®æ©Ÿä¼šã«æµã¾ã‚Œã¾ã™ã€‚æã‚Œãšã«ä¸€æ­©è¸ã¿å‡ºã—ã¦ãã ã•ã„ã€‚',
      'å“²å­¦çš„ãªæ€è€ƒãŒæ·±ã¾ã‚‹ä¸€æ—¥ã§ã™ã€‚äººç”Ÿã®æ„å‘³ã‚„ç›®çš„ã«ã¤ã„ã¦è€ƒãˆã‚‹ã“ã¨ã§ã€æ–°ãŸãªä¾¡å€¤è¦³ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚',
      'ä»Šæ—¥ã¯æµ·å¤–ã‚„é æ–¹ã«é–¢ã™ã‚‹ã“ã¨ã§è‰¯ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹ãŒã‚ã‚Šãã†ã§ã™ã€‚æ—…è¡Œã®è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã®ã«ã‚‚é©ã—ãŸæ—¥ã§ã™ã€‚',
      'å­¦ç¿’æ„æ¬²ãŒé«˜ã¾ã£ã¦ã„ã‚‹ä»Šæ—¥ã€æ–°ã—ã„åˆ†é‡ã®å‹‰å¼·ã‚’å§‹ã‚ã‚‹ã“ã¨ã§ã€å°†æ¥ã®å¯èƒ½æ€§ãŒå¤§ããåºƒãŒã‚Šã¾ã™ã€‚',
      'æ¥½è¦³çš„ãªæ…‹åº¦ãŒå‘¨ã‚Šã®äººã«å‹‡æ°—ã‚’ä¸ãˆã‚‹ä¸€æ—¥ã¨ãªã‚Šã¾ã™ã€‚ã‚ãªãŸã®å‰å‘ããªã‚¨ãƒãƒ«ã‚®ãƒ¼ã§ã€ãƒãƒ¼ãƒ å…¨ä½“ã‚’æ˜ã‚‹ãã—ã¦ãã ã•ã„ã€‚',
      'ä»Šæ—¥ã¯ç›´æ„Ÿã¨è«–ç†ã®ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦ã§ã™ã€‚æ„Ÿè¦šçš„ãªåˆ¤æ–­ã¨ç†æ€§çš„ãªåˆ†æã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€æœ€é©ãªç­”ãˆãŒè¦‹ã¤ã‹ã‚Šã¾ã™ã€‚',
      'æ•™å¸«ã‚„æŒ‡å°è€…ã¨ã—ã¦ã®å½¹å‰²ã‚’æœãŸã™æ©Ÿä¼šãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã‚ãªãŸã®çŸ¥è­˜ã¨çµŒé¨“ã‚’ã€ç©æ¥µçš„ã«ä»–è€…ã¨åˆ†ã‹ã¡åˆã£ã¦ãã ã•ã„ã€‚'
    ],
    capricorn: [
      'è²¬ä»»æ„Ÿã®å¼·ã„ã‚ãªãŸã¯ã€ä»Šæ—¥é‡è¦ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒªãƒ¼ãƒ€ãƒ¼ã¨ã—ã¦é¸ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ãã®è²¬ä»»ã‚’èª‡ã‚Šã«æ€ã£ã¦å–ã‚Šçµ„ã‚“ã§ãã ã•ã„ã€‚',
      'é•·æœŸçš„ãªè¨ˆç”»ã‚„ç›®æ¨™ã«ã¤ã„ã¦è¦‹ç›´ã™ã®ã«é©ã—ãŸæ—¥ã§ã™ã€‚ç¾å®Ÿçš„ã§å®Ÿç¾å¯èƒ½ãªæˆ¦ç•¥ã‚’ç«‹ã¦ã‚‹ã“ã¨ã§ã€ç€å®Ÿã«å‰é€²ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚',
      'ä»Šæ—¥ã¯ä¼çµ±ã‚„æ­´å²ã‹ã‚‰å­¦ã¶ã“ã¨ã®å¤§åˆ‡ã•ã‚’å®Ÿæ„Ÿã™ã‚‹å‡ºæ¥äº‹ãŒã‚ã‚Šãã†ã§ã™ã€‚å…ˆäººã®çŸ¥æµã‚’ç¾ä»£ã«æ´»ã‹ã™æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚',
      'å¿è€åŠ›ã¨æŒç¶šåŠ›ãŒè©¦ã•ã‚Œã‚‹å ´é¢ãŒã‚ã‚Šã¾ã™ãŒã€ã‚ãªãŸã®ç²˜ã‚Šå¼·ã•ãŒæœ€çµ‚çš„ã«å‹åˆ©ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚è«¦ã‚ãšã«ç¶šã‘ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚',
      'ç¤¾ä¼šçš„ãªåœ°ä½ã‚„åèª‰ã«é–¢ã—ã¦è‰¯ã„çŸ¥ã‚‰ã›ãŒå±Šãå¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¾ã§ã®åŠªåŠ›ãŒèªã‚ã‚‰ã‚Œã€æ–°ãŸãªã‚¹ãƒ†ãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®ãƒãƒ£ãƒ³ã‚¹ãŒè¨ªã‚Œã¾ã™ã€‚',
      'ä»Šæ—¥ã¯å®Ÿç”¨æ€§ã¨åŠ¹ç‡æ€§ã‚’é‡è¦–ã™ã‚‹ã“ã¨ã§ã€å¤§ããªæˆæœã‚’ä¸Šã’ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç„¡é§„ã‚’çœãã€æœ¬è³ªã«é›†ä¸­ã—ã¦ãã ã•ã„ã€‚',
      'å¹´é•·è€…ã‚„çµŒé¨“è±Šå¯Œãªäººã‹ã‚‰ã®åŠ©è¨€ãŒã€ã‚ãªãŸã®äººç”Ÿã«å¤§ããªå½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ã«ãªã‚Šãã†ã§ã™ã€‚ç´ ç›´ã«è€³ã‚’å‚¾ã‘ã¦ãã ã•ã„ã€‚'
    ],
    aquarius: [
      'ç‹¬å‰µæ€§ã‚ãµã‚Œã‚‹ã‚ãªãŸã¯ã€ä»Šæ—¥é©æ–°çš„ãªã‚¢ã‚¤ãƒ‡ã‚¢ã§å‘¨ã‚Šã‚’é©šã‹ã›ã‚‹ã“ã¨ã«ãªã‚Šãã†ã§ã™ã€‚å¸¸è­˜ã«ã¨ã‚‰ã‚ã‚Œãªã„ç™ºæƒ³ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã€‚',
      'å‹äººã‚„ä»²é–“ã¨ã®çµ†ãŒæ·±ã¾ã‚‹ç´ æ™´ã‚‰ã—ã„ä¸€æ—¥ã¨ãªã‚Šã¾ã™ã€‚ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’æ´»ã‹ã—ã¦ã€å…±é€šã®ç›®æ¨™ã«å‘ã‹ã£ã¦é€²ã‚“ã§ã„ãã¾ã—ã‚‡ã†ã€‚',
      'ä»Šæ—¥ã¯ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚„æœ€æ–°ã®æŠ€è¡“ã«é–¢ã™ã‚‹ã“ã¨ã§å¹¸é‹ãŒè¨ªã‚Œã¾ã™ã€‚æ–°ã—ã„ãƒ„ãƒ¼ãƒ«ã‚„ã‚¢ãƒ—ãƒªã‚’è©¦ã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚',
      'äººé“ä¸»ç¾©çš„ãªæ´»å‹•ã‚„ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ã«å‚åŠ ã™ã‚‹ã“ã¨ã§ã€å¿ƒã®å……å®Ÿæ„Ÿã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç¤¾ä¼šè²¢çŒ®ã®æ©Ÿä¼šã‚’ç©æ¥µçš„ã«æ¢ã—ã¦ãã ã•ã„ã€‚',
      'ä»Šæ—¥ã¯å€‹æ€§ã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ãŒæˆåŠŸã®éµã¨ãªã‚Šã¾ã™ã€‚ä»–äººã¨åŒã˜ã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚ãªãŸã‚‰ã—ã•ã‚’è²«ã„ã¦ãã ã•ã„ã€‚',
      'æœªæ¥å¿—å‘ã®æ€è€ƒãŒå…‰ã‚‹ä¸€æ—¥ã§ã™ã€‚é•·æœŸçš„ãªè¦–ç‚¹ã§ç‰©äº‹ã‚’è€ƒãˆã‚‹ã“ã¨ã§ã€ä»–ã®äººãŒè¦‹è½ã¨ã—ãŒã¡ãªãƒãƒ£ãƒ³ã‚¹ã‚’ç™ºè¦‹ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚',
      'çŸ¥çš„ãªåˆºæ¿€ã‚’æ±‚ã‚ã¦ã€æ–°ã—ã„åˆ†é‡ã®ç ”ç©¶ã‚„å­¦ç¿’ã«å–ã‚Šçµ„ã‚€ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ã‚ãªãŸã®æ¢ç©¶å¿ƒãŒæ–°ãŸãªç™ºè¦‹ã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚'
    ],
    pisces: [
      'æƒ³åƒåŠ›è±Šã‹ãªã‚ãªãŸã¯ã€ä»Šæ—¥èŠ¸è¡“çš„ãªã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«æº€ã¡ã¦ã„ã¾ã™ã€‚å‰µä½œæ´»å‹•ã«æ™‚é–“ã‚’è²»ã‚„ã™ã“ã¨ã§ã€ç´ æ™´ã‚‰ã—ã„ä½œå“ãŒç”Ÿã¾ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚',
      'å…±æ„ŸåŠ›ãŒé«˜ã¾ã£ã¦ã„ã‚‹ä»Šæ—¥ã€ä»–äººã®æ°—æŒã¡ã‚’æ·±ãç†è§£ã™ã‚‹ã“ã¨ã§ã€äººé–“é–¢ä¿‚ãŒã‚ˆã‚Šè‰¯å¥½ã«ãªã‚Šã¾ã™ã€‚å„ªã—ã•ã‚’å¤§åˆ‡ã«ã—ã¦ãã ã•ã„ã€‚',
      'ä»Šæ—¥ã¯ç›´æ„ŸåŠ›ãŒç‰¹ã«é‹­ããªã£ã¦ã„ã¾ã™ã€‚è«–ç†ã‚ˆã‚Šã‚‚æ„Ÿè¦šã‚’ä¿¡ã˜ã¦è¡Œå‹•ã™ã‚‹ã“ã¨ã§ã€æ­£ã—ã„é“ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã§ã—ã‚‡ã†ã€‚',
      'ç²¾ç¥ä¸–ç•Œã‚„éœŠæ€§ã¸ã®é–¢å¿ƒãŒé«˜ã¾ã‚‹ä¸€æ—¥ã§ã™ã€‚ç‘æƒ³ã‚„ãƒ¨ã‚¬ãªã©ã€å¿ƒã‚’é™ã‚ã‚‹æ™‚é–“ã‚’æŒã¤ã“ã¨ã§ã€å†…ãªã‚‹å¹³å’Œã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚',
      'ä»Šæ—¥ã¯å¤¢ã‚„ç†æƒ³ã‚’ç¾å®Ÿã«ã™ã‚‹ãŸã‚ã®å…·ä½“çš„ãªè¨ˆç”»ã‚’ç«‹ã¦ã‚‹è‰¯ã„æ©Ÿä¼šã§ã™ã€‚ç©ºæƒ³ã ã‘ã§ãªãã€å®Ÿç¾å¯èƒ½ãªå½¢ã«è½ã¨ã—è¾¼ã‚“ã§ãã ã•ã„ã€‚',
      'æ°´ã«é–¢ã™ã‚‹ã“ã¨ã§å¹¸é‹ãŒè¨ªã‚Œãã†ã§ã™ã€‚æµ·ã‚„å·ã€æ¸©æ³‰ãªã©ã€æ°´è¾ºã§éã”ã™æ™‚é–“ãŒç‰¹ã«ç™’ã—ã¨é‹æ°—å‘ä¸Šã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚',
      'ä»–äººã¸ã®å¥‰ä»•ã‚„çŠ ç‰²çš„ãªæ„›ãŒã€æœ€çµ‚çš„ã«ã‚ãªãŸè‡ªèº«ã«å¤§ããªå¹¸ç¦ã‚’ã‚‚ãŸã‚‰ã™ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ç„¡å„Ÿã®æ„›ã®åŠ›ã‚’ä¿¡ã˜ã¦ãã ã•ã„ã€‚'
    ]
  };

  // DOMè¦ç´ ã®å–å¾—
  const loginRequired = document.getElementById('login-required');
  const premiumContent = document.getElementById('premium-content');
  const testPremiumBtn = document.getElementById('test-premium');
  const logoutBtn = document.getElementById('logout-btn');
  const dailyMessageBtn = document.getElementById('daily-message-btn');
  const monthlyReadingBtn = document.getElementById('monthly-reading-btn');
  const dailyMessage = document.getElementById('daily-message');
  const monthlyReading = document.getElementById('monthly-reading');
  const historySection = document.getElementById('history-section');

  // URLã‹ã‚‰æ˜Ÿåº§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–å¾—
  function getUrlParameter(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
  }

  // ç¾åœ¨ã®æ˜Ÿåº§ã‚’å–å¾—ï¼ˆURLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ï¼‰
  function getCurrentSign() {
    return getUrlParameter('sign') || localStorage.getItem('current_sign') || 'aries';
  }

  // æ—¥ä»˜ãƒ™ãƒ¼ã‚¹ã®ã‚·ãƒ¼ãƒ‰å€¤ã‚’ç”Ÿæˆ
  function getDateSeed(daysOffset = 0) {
    const date = new Date();
    date.setDate(date.getDate() + daysOffset);
    return date.getFullYear() * 10000 + (date.getMonth() + 1) * 100 + date.getDate();
  }

  // ã‚·ãƒ¼ãƒ‰å€¤ã‚’ä½¿ã£ãŸç–‘ä¼¼ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆå™¨
  function seededRandom(seed) {
    const x = Math.sin(seed) * 10000;
    return x - Math.floor(x);
  }

  // æ—¥åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”Ÿæˆ
  function generateDailyMessage(sign, daysOffset = 0) {
    const templates = dailyMessageTemplates[sign] || dailyMessageTemplates.aries;
    const seed = getDateSeed(daysOffset);
    const random = seededRandom(seed + sign.charCodeAt(0));
    const index = Math.floor(random * templates.length);
    return templates[index];
  }

  // æ—¥ä»˜æ–‡å­—åˆ—ã‚’ç”Ÿæˆ
  function getDateString(daysOffset = 0) {
    const date = new Date();
    date.setDate(date.getDate() + daysOffset);
    return `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
  }

  // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¼šå“¡çŠ¶æ…‹ã‚’ãƒã‚§ãƒƒã‚¯
  function isPremiumUser() {
    return localStorage.getItem('premium_user') === 'true';
  }

  // ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¼šå“¡çŠ¶æ…‹ã‚’è¨­å®š
  function setPremiumUser(status) {
    localStorage.setItem('premium_user', status.toString());
  }

  // ç¾åœ¨ã®æ˜Ÿåº§ã‚’ä¿å­˜
  function saveCurrentSign(sign) {
    localStorage.setItem('current_sign', sign);
  }

  // ä»Šæ—¥ã®ç‰¹åˆ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
  function showDailyMessage() {
    const sign = getCurrentSign();
    const zodiac = zodiacData[sign];
    const message = generateDailyMessage(sign);
    const today = getDateString();
    
    document.getElementById('daily-message-content').textContent = 
      `${zodiac.symbol} ${zodiac.name}ã®ã‚ãªãŸã¸ï¼š${message}`;
    document.getElementById('message-date').textContent = today;
    
    // ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
    monthlyReading.classList.add('hidden');
    historySection.classList.add('hidden');
    
    // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    dailyMessage.classList.remove('hidden');
    
    // å±¥æ­´ã«ä¿å­˜
    saveMessageHistory(sign, message, today);
  }

  // ä»Šæœˆã®è©³ç´°é‘‘å®šæ›¸ã‚’è¡¨ç¤º
  function showMonthlyReading() {
    const sign = getCurrentSign();
    const zodiac = zodiacData[sign];
    
    document.getElementById('selected-sign-name').textContent = 
      `${zodiac.symbol} ${zodiac.name}`;
    
    // ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
    dailyMessage.classList.add('hidden');
    historySection.classList.add('hidden');
    
    // é‘‘å®šæ›¸ã‚’è¡¨ç¤º
    monthlyReading.classList.remove('hidden');
  }

  // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´ã‚’ä¿å­˜
  function saveMessageHistory(sign, message, date) {
    const key = 'message_history';
    let history = JSON.parse(localStorage.getItem(key) || '[]');
    
    // åŒã˜æ—¥ä»˜ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯æ›´æ–°
    const existingIndex = history.findIndex(item => item.date === date && item.sign === sign);
    const newItem = { sign, message, date, zodiac: zodiacData[sign] };
    
    if (existingIndex >= 0) {
      history[existingIndex] = newItem;
    } else {
      history.unshift(newItem);
    }
    
    // 7æ—¥åˆ†ã®ã¿ä¿æŒ
    history = history.slice(0, 7);
    localStorage.setItem(key, JSON.stringify(history));
  }

  // å±¥æ­´ã‚’è¡¨ç¤º
  function showHistory() {
    const history = JSON.parse(localStorage.getItem('message_history') || '[]');
    const historyList = document.getElementById('history-list');
    
    if (history.length === 0) {
      historyList.innerHTML = '<p style="color: rgba(255,255,255,0.7);">ã¾ã å±¥æ­´ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
    } else {
      historyList.innerHTML = history.map(item => `
        <div class="history-item">
          <div class="history-date">${item.date} - ${item.zodiac.symbol} ${item.zodiac.name}</div>
          <p style="color: rgba(255,255,255,0.9); margin: 5px 0 0 0;">${item.message}</p>
        </div>
      `).join('');
    }
    
    // ä»–ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’éè¡¨ç¤º
    dailyMessage.classList.add('hidden');
    monthlyReading.classList.add('hidden');
    
    // å±¥æ­´ã‚’è¡¨ç¤º
    historySection.classList.remove('hidden');
  }

  // åˆæœŸåŒ–
  function initialize() {
    const urlSign = getUrlParameter('sign');
    if (urlSign && zodiacData[urlSign]) {
      saveCurrentSign(urlSign);
    }
    
    if (isPremiumUser()) {
      loginRequired.classList.add('hidden');
      premiumContent.classList.remove('hidden');
    } else {
      loginRequired.classList.remove('hidden');
      premiumContent.classList.add('hidden');
    }
  }

  // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
  testPremiumBtn.addEventListener('click', () => {
    setPremiumUser(true);
    alert('ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ä¼šå“¡ã«ãªã‚Šã¾ã—ãŸï¼');
    initialize();
  });

  logoutBtn.addEventListener('click', () => {
    setPremiumUser(false);
    alert('ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸ');
    initialize();
  });

  dailyMessageBtn.addEventListener('click', showDailyMessage);
  monthlyReadingBtn.addEventListener('click', showMonthlyReading);
  
  // å±¥æ­´ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
  const historyBtn = document.createElement('button');
  historyBtn.textContent = 'ğŸ“… éå»ã®å±¥æ­´';
  historyBtn.className = 'premium-btn';
  historyBtn.addEventListener('click', showHistory);
  
  // ãƒœã‚¿ãƒ³ã‚’æŒ¿å…¥
  const controls = document.querySelector('.controls');
  controls.insertBefore(historyBtn, logoutBtn);

  // åˆæœŸåŒ–å®Ÿè¡Œ
  initialize();
});
